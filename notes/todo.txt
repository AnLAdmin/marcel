- Complete Python string parsing

- Complete shell string parsing (termination on things other than EOL
  and whiteapce).

- Licensing header

- Debugging & verbosity level

- Should the name of map be changed? f as in osh? apply? map doesn't
  really make sense when used as a generator. Could have gen handle
  this case through a function argument mutually exclusive with other
  args. So "gen 5" works like it always had, but "gen (5)" generates a
  5?!

- What happens to processes that disappear? E.g. ps | .... ps yields
  non-existent processes which are then used downstream. Can this even
  happen?

- ps: If commandline blank, take contents of status file? That's what
  ps appears to do.

----------------------------------------------------------------------

File objects

- File navigation (parent, children, ...). Sort of works. Should
  _getattr() wrap a path (if delegation returns one) into a File?

----------------------------------------------------------------------

Bash:

- What if there is an arg that is significant to marcel parsing, e.g. [, (.

- shlex.quote() usage, and wildcards need to be
  reconsidered. Automatically quoting everything is wrong, (bug 38). So
  maybe the problem is that bash is wrong. Need to preserve the bash
  args exactly as written, quotes included, and pass it all to Popen. As
  things stand, we lose the quotes during parsing, and then add them
  back unconditionally.
  
  Globbing is tricky because it then requires great care to quote and
  escape properly, e.g. a\ b*, 'a b'*, 'a b*', (the first two are the
  same, the last has no wildcard).

----------------------------------------------------------------------

- Organize internal ops -- Fork, LabelThread

- out.receive does a lot of work. Precompute whatever can be.

- How do exit codes fit in?

----------------------------------------------------------------------

Glob patterns and marcel syntax both use [].

    M jao@cheese:/tmp/d$ ls [a-c]* | rm
    Parsing error at position 4 of "ls [a-c]* | rm": Expected string or pipe

Could handle the situation by being context-sensitive during the
parse.

This is going to be a problem now that pipelines can be args.

----------------------------------------------------------------------

Provide a way to specify farcel config path. Maybe as a property of
the cluster.

----------------------------------------------------------------------

Distinct color for broken symlink.

----------------------------------------------------------------------

Tab completion for command should distinguish between first op of
pipeline and subsequent ones. I.e., only show those ops that can be
used in the current position within the pipeline.

----------------------------------------------------------------------

What happens if an arg that is supposed to be a pipeline is actually a
string looking exactly like a pipeline ref?

----------------------------------------------------------------------

Job should be in marcel.object. Maybe.

----------------------------------------------------------------------

Add notion of current job, and then allow bg/fg ops to omit args.

----------------------------------------------------------------------

Would multiprocessing.Process provide better streaming than
subprocess.Popen? I.e., not waiting for op to complete.

----------------------------------------------------------------------

Make Bash.INTERACTIVE_EXECUTABLES an environment variable, so that it
can be customized by the user.

----------------------------------------------------------------------

ps flags. E.g., -a

----------------------------------------------------------------------

Should expand operate on filenames? Might be better to have a separate
command for that, e.g. cat.

----------------------------------------------------------------------

Import bash env?

----------------------------------------------------------------------

Help:

- Allow for indented paragraphs. Equating indent and non-wrapping is
  probably a bad idea. Maybe find a Python markdown implementation?
  Still need colorizing.

Use these for help.

----------------------------------------------------------------------

Red:

- Need a red function for creating a list. + isn't a good choice, since it
  already does expected things for numbers and strings. 

- Can squish be eliminated in favor of some variation of red? 

Could at least generalize similar to expand. E.g. squish 1 would take
a sequence in position 1 and squish just that. So

(1, [[1]])
(2, [[2], [2]])
(3, [[3], [3], [3]])

 ->

(1, [1])
(2, [2, 2])
(3, [3, 3, 3])

----------------------------------------------------------------------

Should help output go through more?

----------------------------------------------------------------------

Configuration:

- Look in ~, /etc/marcel.

- Be able to specify config file (or multiple locations) in startup.

----------------------------------------------------------------------

History commands

- If history were in the namespace, then edited_command wouldn't need
  special handling.

----------------------------------------------------------------------

Cluster: Allow config of a single host

----------------------------------------------------------------------

Colorize help

Change "object" to "type"? People hate objects.

----------------------------------------------------------------------

Use dill. Can serialize functions, exceptions. Can extract source of
function?!
